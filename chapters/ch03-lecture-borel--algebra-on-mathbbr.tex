\chapter{Borel $\sigma$-algebra on $\mathbb{R}$ and measure [Fol 1.2, finished; 1.3]}
\noindent Recall: the $\sigma$-algebra generated by $\varepsilon$
    $$
    <\varepsilon> := \intsec_{\varepsilon  \sub S \sub \cP(X), \newline S \text{ is }\sigma \text{ -algebra on } X} S
    $$ is the smallsest $\sigma$-algebra containing $\varepsilon$.


\begin{example}
\begin{equation}
    <\{ E\}> = \{ \emptyset, E, E^c, X       \}
\end{equation}
\end{example}


\begin{lemma}{inclusion properties of generated $\sigma$-algebra}
\label{inclusion properties of generated sigma-algebra}
\begin{enumerate}
    \item if $\cE \sub \mathcal{A}$ where $\mathcal{A}$ is a $\sigma$-algebra, then $<\cE> \sub \mathcal{A}$.
    \item if $\cE \sub \cF$, then $<\cE> \sub <\cF>$.
    \item if $\cE \sub <\cF>$, then $<\cE> \sub <\cF>$.
\end{enumerate}
\end{lemma}
\begin{proof}
    trivial.
\end{proof}

\begin{definition}{Borel $\sigma$-algebra defined on a topological space}
For topological space $(X, \cT)$, we define:
$$
\mathcal{B}_X := <\cT>
$$
\end{definition}
\noindent \textbf{Borel $\sigma$-algebra} on a topological space 就是 $\sigma$-algebra generated by the topology. Its members are called \textbf{Borel sets}. 当然, 所有的 open sets 和 closed sets 都是 Borel sets.




\section{generating Borel $\sigma$-algebra on $\mathbb{R}$}
\begin{example}
    Let
    $\cE_1 $: $\mathbb{R}$ 上所有的 open intervals; \\ 
    $\cE_2 $: $\mathbb{R}$ 上所有的 closed intervals;\\
    $\cE_3 $: $\mathbb{R}$ 上所有的左开右闭 intervals;\\
    $\cE_4 $: $\mathbb{R}$ 上所有的左闭右开 intervals;\\
    $\cE_5 $: $\mathbb{R}$ 上所有的左开右无界 intervals;\\
    $\cE_6 $: $\mathbb{R}$ 上所有的左闭右无界 intervals;\\
    $\cE_7 $: $\mathbb{R}$ 上所有的左无界右开 intervals;\\
    $\cE_8 $: $\mathbb{R}$ 上所有的左无界右闭 intervals;\\
    $\bigcup_{i=1,\cdots,8}\cE_i$ 即 $\mathbb{R}$ 上的所有形式的 interals.
\begin{lemma}
    任意以上 $\cE_i, i=1,\cdots,8$ 都可以 generate $\mathcal{B}_{\mathbb{R}}$
\end{lemma}
\begin{proof}
    我们 recall: 所有的 countable 以及 second countable 的 topological space 都具有 \textbf{Lindelöf property}: 任意 open covering 都存在一个 countable 的 subcovering.\\
    Lindelöf property 的一个推论就是, 在具有 Lindelöf property 的 metric space 或者 second countable 的 space 中, 任意 open set 都可以写成 countable 个 open balls 的 union.\\
    我们在 elementary 的 real analysis 中已经学过, $[a,b) = \cap_{n \geq 1}(a-1/n, b)$, 以其作为例子, 这些 intervals 彼此之间都可以相互转换.
\end{proof}
\end{example}




\section{measure}
\begin{definition}{measurable space and measure space}
    Let $X$ be a set, $\mathcal{M}$ be a $\sigma$-algebra on $X$.\\
    A measure on $(X,A)$ is a function $\mu: \mathcal{M} \rar [0, \infty)$ satisfying:
    \begin{enumerate}
        \item $\mu(\emptyset) = 0$
        \item countable additive: 
        $$
        \mu(\bigcup_{i=1}^\infty E_i) = \sum_{i=1}^{\infty} \mu(E_i)  
        $$ for disjoint seq of $E_i \in \mathcal{M}$.
    \end{enumerate}

    如果这样的 $\mu$ 存在, 我们则称 $(X,\mathcal{M})$ 为一个 measurable space, 并称 $(X,\mathcal{M}, \mu)$ 为一个 measure space.
\end{definition}
\begin{remark}
    一个 probability space 就是一个 measure space, satisfying $\mu(X) = 1$.
\end{remark}

\begin{example}
\begin{enumerate}
    \item 对于任意的 $(X, \mathcal{M})$, 我们可以定义:
    $$
    \mu(A) := \#A \;\;\;(\in \bZ_{\geq 0} \cup \{\infty \})
    $$
    这个 measure 叫做 \textbf{counting measure}.
    \item 
    Fix $x_0 \in M$, 可以 define
    $$
    \mu(A) := \delta_x := \begin{cases}
        1 \; \text{, if } x_0 \in A \\
        0 \; \text{, if } x_0 \not\in A \\
    \end{cases}
    $$
    这个 measure 叫做 the \textbf{Dirac measure at $x_0$}.
    \item 
    给定一个 $X$ 上的函数 $f: X \rar [0, \infty)$, 我们可以通过这个函数来定义:
    $$
    \mu(A) := \sum_{x \in A} f(x)
    $$
    这个测度依赖于函数值来表示每个点的单点集的 measure, 并通过一个集合上所有点的单点集 measure 相加得到这个集合在这个函数下的 measure. (缺点: 我们已经知道, 如果一个函数在一个集合上的正集是 uncountable 的, 那么这个集合上的这个测度一定是 $\infty$.)
    \end{enumerate}
\end{example}



\noindent 以下是 measure function 由它的定义的两条性质(空集为0以及 ctbl additivity)推导出的一些基本性质:

\begin{lemma}{measure is finitely additive}
    Measure is finitely additive.
\end{lemma}
\begin{proof}
    显然, ctbl additive implies finite additive.
\end{proof}

\begin{remark}
    反向则不成立. 这让我们想起: Jordan measure 和 Lebesgue measure. 
\end{remark}

\begin{lemma}
    $A,B\in \mathcal{M} \implies$
    $$
    \mu(A) + \mu(B) = \mu(A \cap B) + \mu(A \cup B)
    $$
\end{lemma}
\begin{proof}
    $$A \cup B = (A \setminus B) \sqcup (A\cap B) \sqcup (B\setminus A)$$
    而后使用 finite additive 可得. 这是一个 direct corollary of countable additivity.
\end{proof}

\begin{corollary}
    $A,B\in \mathcal{M}, A\sub B, \mu(A) < \infty \implies$
    $$
    \mu(B\setminus A) = \mu(B) - \mu(A)
    $$
\end{corollary}




\begin{theorem}{properties of measure}
    对于任何 measure space $(X,\mathcal{M}, \mu)$:
    \begin{enumerate}
        \item \textbf{monotonicity}: $A \sub B \in \mathcal{M} \implies \mu(A) \leq \,\mu(B)$
        \begin{proof}
            trivial.
        \end{proof}
        \item \textbf{countable subadditivity}: 
        $$
        \mu(\bigcup_{i=1}^\infty A_i) \leq \sum_{i=1}^\infty \mu(A_i)
        $$
        \begin{proof}
            By setting $B_i = A_i \setminus \bigcup_{j=1}^{i-1} A_j$, 而后通过 ctbl disjoint additivity 与 monotonicity 可得
        \end{proof}
        \item \textbf{continuous from above}: 
        如果 $A_i \sub A_{i+1} \forall i \geq 2\implies $
        $$
        \mu(\bigcup_{i=1}^{\infty}A_i   ) = \lim_{i \rar \infty} \mu(A_i)
        $$
        \begin{proof}
            使用 same trick as 2.
        \end{proof}
        \item \textbf{countinuous from below}:
        如果 $A_i \supseteq A_{i+1} \forall i$ 且存在某个 $j$ 使得 $\mu(A_i) < \infty$, 则
        $$
        \mu(\intsec_{i=1}^{\infty}A_i) = \lim_{n \rar \infty} \mu(A_n)
        $$
        \begin{proof}
            前面的都无视, 直到第一个 measure $< \infty$ 的集合, 是可能出现在最后的 intersection 里的最大集合. 我们 Fix 这个 $A_j$. 通过构造补集的方式, 把交转为并, 从而用 (3) 得证.
            Define:
            $
            E_i := A_j \setminus A_i \forall i \geq j
            $
            从而
            $$
            \bigcup_{i=j}^\infty E_i = A_j \setminus (\intsec_{i=j}^\infty A_i)
            $$进而 
            $$
            \mu( \bigcup_{i=j}^\infty E_i) = \mu(A_j) - \mu(\intsec_{i=j}^\infty A_i)
            $$
            进而 by (3)
            $$
            \mu(\intsec_{i=1}^\infty A_i) = \mu(\intsec_{i=j}^\infty A_i) = \mu(A_j) - \lim_{i\rar \infty}\mu(E_i)  = \mu(A_j) - \lim_{i\rar \infty}(\mu(A_j) - \mu(A_i))
            = \lim_{i\rar \infty} A_i
            $$
            
        \end{proof}
    \end{enumerate}
\end{theorem}